.vizs {
	margin: 1rem 0;
	height: 400px;
	width: 100%;
	position: relative;
}

.vizs .viz {
	height: 100%;
	width: 100%;
	position: absolute;
	.transition(transform, 0.5s);
}

#viz-map {
	.translate-x(0);
}

#viz-graph {
	/* background: rgba(0, 255, 0, 0.5); */
	.translate-x(100%);
}

#viz.selected-graph #viz-graph {
	.translate-x(0);
}

#viz.selected-graph #viz-map {
	.translate-x(-100%);
}

#viz-map-svg {
	display: block;
	margin: 0 auto;
	height: 500px;
	width: 510px;
	margin-top: 0;
	.transition(margin-top, 0.25s);
}

#viz-map-svg .canton {
	cursor: pointer;
	stroke: white;
	stroke-width: 1;
}

@media (min-width: 800px) {

	/* Bleed into the title line on large screens. */
	#viz-map-svg {
		margin-top: -4rem;
	}

	#viz-map-svg .canton:hover {
		opacity: 0.8;
	}
}

#viz-map-tip {
	width: 14rem;
	position: absolute;
	bottom: 1em;
	left: 1em;
	background-color: #d2d3cd;
	padding: 0.6em 1em;
	.transition(transform, 0.25s);
}

#viz-map-tip .close {
	cursor: pointer;
}

#viz-map-tip .close:before {
	content: '×';
	color: #6a7840;
	background-color: white;
	display: block;
	width: 1.4rem;
	height: 1.4rem;
	border-radius: 1.4rem;
	font-size: 0.8rem;
	line-height: 1.4rem;
	text-align: center;
	position: absolute;
	top: -0.8em;
	left: -0.8em;
	.box-shadow(0 0 3px 2px #999);
}

#viz-map-tip .title {
	font-size: 1.2em;
	text-align: center;
	margin: 0;
}

#viz-map-tip dl {
	font-family: serif;
	margin: 0.2em 0 0 0;
}

#viz-map-tip .title,
#viz-map-tip dd {
	color: #6a7840;
}

#viz-map-tip dt {
	display: inline-block;
	width: 65%;
	margin: 0.5em 5% 0 0;
	color: #6e6e6e;
	vertical-align: middle;
}

#viz-map-tip dd {
	font-weight: bold;
	font-size: 1.2em;
	margin: 0;
	display: inline-block;
	width: 30%;
	text-align: left;
}

#viz-map-tip dd:first-of-type {
	font-size: 1.6em;
	color: black;
}

#viz-graph-menu .nav-item {
	display: inline-block;
	color: white;
	font-size: 0.7rem;
	background-color: #d0d1d0;
	padding: 0.2em 0.6em;
	min-width: 10rem;
	.box-sizing(border-box);
}

#viz-graph.general-selected .nav-item.general,
#viz-graph.canton-selected .nav-item.canton {
	background-color: @brandBackground;
}

#viz-graph-general,
#viz-graph-canton {
	position: absolute;
	opacity: 0;
	pointer-events: none;
	.transition(opacity, 0.25s);
}

#viz-graph.general-selected #viz-graph-general,
#viz-graph.canton-selected #viz-graph-canton {
	opacity: 1;
	pointer-events: auto;
}

#viz-graph-select {
	border: none;
	background: #d2d2d2;
	font-family: serif;
	font-size: 0.7rem;
	padding: 0 0 0 0.6rem;
	margin: 0.6rem 0 0 0;
	width: 10rem;
	height: 1rem;
	display: inline-block;
	.box-sizing(border-box);

	/* Hacks: */
	-webkit-appearance: none;
    -moz-appearance:none;
    appearance:none;
	.border-radius(0);
}

#viz-graph-select-container:after {
	content: '▾';
	display: inline-block;
	font-size: 0.7rem;
	margin: 0.6rem 0 0 -1.2rem;
	color: #d2d2d2;
	background-color: #5d5d5d;
	width: 1rem;
	height: 1rem;
	text-align: center;
	pointer-events: none;
	.box-sizing(border-box);
}

#viz.selected-map .nav-item.map,
#viz.selected-graph .nav-item.graph {
	color: inherit;
}

#viz.selected-map #viz-graph-blurb,
#viz.selected-graph #viz-map-blurb {
	opacity: 0;
	height: 0;
	visibility: hidden;
}

#viz .blurb {
	opacity: 1;
	.transition(opacity, 0.5s);
}

#viz-graph-general-table {
	table-layout: fixed;
	border-collapse: separate;
	border-spacing: 1px 2rem;
	padding: 2rem;
	width: 100%;
	.box-sizing(border-box);
}

#viz-graph-general-table td {
	.box-sizing(border-box);
}

#viz-graph-general-table td.category {
	width: 19%;
	height: 3rem;
	padding-right: 1rem;
	font-family: serif;
	font-size: 1rem;
	color: #636363;
}

#viz-graph-general-table td.canton {
	width: 1%;
	background-color: #d2d2d2;
	cursor: pointer;
}

#viz-graph-general-table td.canton:hover,
#viz-graph-general-table td.canton.selected {
	background-color: @brandBackground;
}

#viz-graph-general-table tr:first-of-type td.canton > span {
	position: relative;
}

#viz-graph-general-table tr:first-of-type td.canton > span:after {
	position: absolute;
	top: 2.35rem;
	left: 4px;
	content: '';
	display: inline-block;
	width: 1px;
	height: 1px;
	background-color: #636363;
}

#viz-graph-general-table tr:first-of-type td.canton.first > span:after,
#viz-graph-general-table tr:first-of-type td.canton.last > span:after {
	font-family: serif;
	color: #636363;
	font-size: 0.9rem;
	background: none;
	top: 2.4rem;
	line-height: 0;
}

#viz-graph-general-table tr:first-of-type td.canton.first > span:after {
	content: attr(data-position);
	left: -4px;
}

#viz-graph-general-table tr:first-of-type td.canton.last > span:after {
	content: '▸ 1°';
	font-weight: bold;
	color: black;
	white-space: nowrap;
	left: -0.6rem;
}

#viz-graph-general-table td > span {
	height: 0;
	width: 0;
	display: block;
	color: transparent;
}

#viz-graph-box {
	position: absolute;
	top: -8rem;
	left: -14rem;
	background-color: #d3d4ce;
	padding: 1rem;
	width: 14rem;
}

#viz-graph-box:after {
	width: 0;
	height: 0;
	content: '';
	display: block;
	border-style: solid;
	border-width: 20px 5px 0 5px;
	border-color: #d3d4ce transparent transparent transparent;
	position: absolute;
	bottom: -20px;
	right: 1.4rem;
}

#viz-graph-box .title {
	color: @brandBackground;
	text-transform: uppercase;
	font-weight: bold;
	display: inline-block;
	width: 50%;
	vertical-align: top;
}

#viz-graph-box .ranking {
	color: #636363;
	font-family: serif;
	display: inline-block;
	width: 30%;
	margin-right: 5%;
}

#viz-graph-box .position {
	color: black;
	font-weight: bold;
	font-size: 1.4rem;
}

#viz-graph-canton {
	height: 100%;
	width: 100%;
	text-align: center;
}

#viz-graph-canton .stat {
	width: 14%;
	margin: 1rem 2%;
	display: inline-block;
	vertical-align: top;
}

#viz-graph-canton .stat p {
	font-family: serif;
	color: #7d7d7d;
	font-size: 0.9rem;
	text-align: left;
}

#viz-graph-canton .tube {
	height: 18rem;
	width: 2rem;
	margin: 0 auto;
	background-color: #d2d2d2;
	position: relative;
}

#viz-graph-canton .mercury {
	height: 0;
	width: 2rem;
	position: absolute;
	bottom: 0;
	border-style: none solid;
	border-color: #d2d2d2;
	border-width: 2px;
	background-color: @brandBackground;
	.box-sizing(border-box);
	.transition(height, 0.25s);
}

#viz-graph-canton .mercury:after {
	content: attr(data-percentage);
	color: @brandBackground;
	font-family: serif;
	font-weight: bold;
	font-size: 1.2rem;
	margin-left: 2.4rem;
	margin-top: -0.5em;
	display: block;
}
